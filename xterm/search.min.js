!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).search=e()}}(function(){return function o(s,l,f){function a(t,e){if(!l[t]){if(!s[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=l[t]={exports:{}};s[t][0].call(i.exports,function(e){return a(s[t][1][e]||e)},i,i.exports,o,s,l,f)}return l[t].exports}for(var c="function"==typeof require&&require,e=0;e<f.length;e++)a(f[e]);return a}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=" ~!@#$%^&*()+`-=[]{}|;:\"',./<>?",i=function(){function e(e){this._terminal=e}return e.prototype.findNext=function(e,t){if(!e||0===e.length)return!1;var r,n=this._terminal._core.buffer.ydisp;this._terminal._core.selectionManager.selectionEnd&&0!==this._terminal.getSelection().length&&(n=this._terminal._core.selectionManager.selectionEnd[1]);for(var i=n+1;i<this._terminal._core.buffer.ybase+this._terminal.rows&&!(r=this._findInLine(e,i,t));i++);if(!r)for(i=0;i<n&&!(r=this._findInLine(e,i,t));i++);return this._selectResult(r)},e.prototype.findPrevious=function(e,t){if(!e||0===e.length)return!1;var r,n=this._terminal._core.buffer.ydisp;this._terminal._core.selectionManager.selectionStart&&0!==this._terminal.getSelection().length&&(n=this._terminal._core.selectionManager.selectionStart[1]);for(var i=n-1;0<=i&&!(r=this._findInLine(e,i,t));i--);if(!r)for(i=this._terminal._core.buffer.ybase+this._terminal.rows-1;n<i&&!(r=this._findInLine(e,i,t));i--);return this._selectResult(r)},e.prototype._isWholeWord=function(e,t,r){return!(0!==e&&-1===n.indexOf(t[e-1])||e+r.length!==t.length&&-1===n.indexOf(t[e+r.length]))},e.prototype._findInLine=function(e,t,r){if(void 0===r&&(r={}),!this._terminal._core.buffer.lines.get(t).isWrapped){var n=this.translateBufferLineToStringWithWrap(t,!0),i=r.caseSensitive?n:n.toLowerCase(),o=r.caseSensitive?e:e.toLowerCase(),s=-1;if(r.regex){var l=RegExp(o,"g"),f=l.exec(i);f&&0<f[0].length&&(s=l.lastIndex-f[0].length,e=f[0])}else s=i.indexOf(o);if(0<=s){if(s>=this._terminal.cols&&(t+=Math.floor(s/this._terminal.cols),s%=this._terminal.cols),r.wholeWord&&!this._isWholeWord(s,i,e))return;for(var a=this._terminal._core.buffer.lines.get(t),c=0;c<s;c++){var u=a.get(c),h=u[1];1<h.length&&(s-=h.length-1),0===u[2]&&s++}return{term:e,col:s,row:t}}}},e.prototype.translateBufferLineToStringWithWrap=function(e,t){var r,n="";do{var i=this._terminal._core.buffer.lines.get(e+1);r=!!i&&i.isWrapped,n+=this._terminal._core.buffer.translateBufferLineToString(e,!r&&t).substring(0,this._terminal.cols),e++}while(r);return n},e.prototype._selectResult=function(e){return e?(this._terminal._core.selectionManager.setSelection(e.col,e.row,e.term.length),this._terminal.scrollLines(e.row-this._terminal._core.buffer.ydisp),!0):(this._terminal.clearSelection(),!1)},e}();r.SearchHelper=i},{}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("./SearchHelper");function n(e,t,r){void 0===r&&(r={});var n=e;return n.__searchHelper||(n.__searchHelper=new i.SearchHelper(n)),n.__searchHelper.findNext(t,r)}function o(e,t,r){var n=e;return n.__searchHelper||(n.__searchHelper=new i.SearchHelper(n)),n.__searchHelper.findPrevious(t,r)}r.findNext=n,r.findPrevious=o,r.apply=function(e){e.prototype.findNext=function(e,t){return n(this,e,t)},e.prototype.findPrevious=function(e,t){return o(this,e,t)}}},{"./SearchHelper":1}]},{},[2])(2)});